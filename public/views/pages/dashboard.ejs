<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head'); %>
  </head>
  <body class="d-flex p-4 flex-column min-vh-100">
    <header>
        <%- include('../partials/header'); %>
    </header>
    <main>
      <div class="container-sm">
        <h2>Dashboard</h2>
      </div>
      <div class="container-sm">
        <div class="table-responsive">
          <table class="table table-striped table-sm">
            <thead>
              <h5>Upcoming matches</h5> 
            </thead>
            <tbody>
              <% upcoming.forEach(function(fixture) { %>
                <tr>
                  <td id="td-left"><img src="/images/leagues/<%= fixture.League.idApi %>.svg" class="image-fluid" alt="Country Flag"/></td>
                  <td id="td-left"><img src="/images/leagues/<%= fixture.League.idApi %>.png" class="image-fluid" alt="League Logo"/></td>
                  <td id="td-left"><%= fixture.date.getUTCDate() + '/' + fixture.date.getUTCMonth() + '/' + fixture.date.getUTCFullYear() %></td>
                  <td id="td-left"><%= fixture.date.getUTCHours() + ':' + (fixture.date.getUTCMinutes() || '00') %></td>
                  <td id="td-right"><%= fixture.homeTeam.name %></td>
                  <td id="td-right"><%= fixture.goalsHome || '-' %></td>
                  <td id="td-center">:</td>
                  <td id="td-left"><%= fixture.goalsAway || '-' %></td>
                  <td id="td-left"><%= fixture.awayTeam.name %></td>
                  <td id="td-center"><%= fixture.status %></td>
                  <td id="<%= fixture.id %>" class="table-button"><button type="button" class="btn btn-success">Details/Odds</button></td>
                </tr>
              <% }) %>
            </tbody>
          </table>
        </div>
      </div>
      <div class="container-sm btn-container">
        <button id="upcoming" type="button" class="btn btn-secondary">See all upcoming</button>
      </div>
      <div class="container-sm">
        <div class="table-responsive">
          <table class="table table-striped table-sm">
            <thead>
              <h5>Finished matches</h5>
            </thead>
            <tbody>
              <% finished.forEach(function(fixture) { %>
                <tr>
                  <td id="td-left"><img src="/images/leagues/<%= fixture.League.idApi %>.svg" class="image-fluid" alt="Country Flag"/></td>
                  <td id="td-left"><img src="/images/leagues/<%= fixture.League.idApi %>.png" class="image-fluid" alt="League Logo"/></td>
                  <td id="td-left"><%= fixture.date.getUTCDate() + '/' + fixture.date.getUTCMonth() + '/' + fixture.date.getUTCFullYear() %></td>
                  <td id="td-left"><%= fixture.date.getUTCHours() + ':' + (fixture.date.getUTCMinutes() || '00') %></td>
                  <td id="td-right"><%= fixture.homeTeam.name %></td>
                  <td id="td-right"><%= fixture.goalsHome %></td>
                  <td id="td-center">:</td>
                  <td id="td-left"><%= fixture.goalsAway %></td>
                  <td id="td-left"><%= fixture.awayTeam.name %></td>
                  <td id="td-center"><%= fixture.status %></td>
                  <td id="<%= fixture.id %>" class="table-button"><button type="button" class="btn btn-success">Details/Odds</button></td>
                </tr>
              <% }) %>
            </tbody>
          </table>
        </div>
      </div>
      <div class="container-sm btn-container">
        <button id="finished" type="button" class="btn btn-secondary">See all finished</button>
      </div>
    </main>
    <%- include('../partials/footer'); %>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
    <script src="/javascripts/dashboard.js"></script>
  </body>
</html>